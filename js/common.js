(function(window,undefined){"use strict";var KISSYMORE=window.KISSYMORE=window.KISSYMORE||{};KISSYMORE.namespace=function(e){var t=e.split("."),n=window,r;for(r=0;r<t.length;r++){if(typeof n[t[r]]!=="object"){n[t[r]]={}}n=n[t[r]]}return n};KISSYMORE.namespace("KISSYMORE.Util");KISSYMORE.Util.Cookie={get:function(e,t){var n=document.cookie,r,o=new RegExp("(^|)"+e+"=([^;]*)(;|$)");r=n.match(o);if(r){if(t===true){return this.decodeStr(r[2])}else{return r[2]}}else{return null}},set:function(e,t,n,r,o,i){var a=encodeURIComponent(e)+"="+encodeURIComponent(t),s=null,l=30;if(n instanceof Date){a+=";expires="+n.toGMTString()}else{s=new Date;s.setTime(s.getTime()+l*24*60*60*1e3);a+=";expires ="+s.toGMTString()}if(o){a+=";path="+o}if(r){a+=";domain="+r}if(i){a+=";secure"}document.cookie=a},decodeStr:function(e){var t="",n,r=e.length;for(n=0;n<r;n++){var o=e.charAt(n);if(o=="+"){t+=" "}else if(o=="%"){var i=e.substring(n+1,n+3);if(parseInt("0x"+i)>127){t+=decodeURI("%"+e.substring(n+1,n+9));n+=8}else{t+=String.fromCharCode(parseInt("0x"+i));n+=2}}else{t+=o}}return t},deleteCookie:function(e,t,n,r){var o=encodeURIComponent(e)+"="+encodeURIComponent("a");var i=new Date;i.setTime(i.getTime()-1e4);o+=";expires ="+i.toGMTString();if(n){o+=";path="+n}if(t){o+=";domain="+t}if(r){o+=";secure"}document.cookie=o}};KISSYMORE.Util.Event={addHandler:function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{e["on"+t]=n}},removeHandler:function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}else{e["on"+t]=null}}};KISSYMORE.Util.IE_VERSION_FIX=function(){var e,t=document.getElementsByTagName("html")[0],n,r,o,i,a,s=document.documentElement||document.body;e=l();if(e===6&&s.currentStyle.backgroundAttachment!=="fixed"){t.style.backgroundImage="url(about:blank)";t.style.backgroundAttachment="fixed"}r=function(){};o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];i=o.length;a=window.console=window.console||{};while(i--){n=o[i];if(!a[n]){a[n]=r}}function l(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");while(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0]);return e>4?e:0}return{iev:e,ieVersion:l,fixedPosition:e===6?function(e,t){var n=e.style,r="(document.documentElement || document.body)";if(typeof t.left!=="number"){t.left=s.clientWidth-t.right-e.offsetWidth}if(typeof t.top!=="number"){t.top=s.clientHeight-t.bottom-e.offsetHeight}e.style.position="absolute";n.removeExpression("left");n.removeExpression("top");n.setExpression("left","eval("+r+".scrollLeft + "+t.left+') + "px"');n.setExpression("top","eval("+r+".scrollTop + "+t.top+') + "px"')}:function(e,t){var n=e.style;n.position="fixed";if(t){if(typeof t.left==="number"){n.left=t.left+"px"}if(typeof t.top==="number"){n.top=t.top+"px"}}},fixed:e===6?function(e,t,n){var r=e.style,o="(document.documentElement || document.body)";t=t||parseInt(r.left||0),n=n||parseInt(r.top||0);this.absolute(e);r.setExpression("left","eval("+o+".scrollLeft + "+t+') + "px"');r.setExpression("top","eval("+o+".scrollTop + "+n+') + "px"')}:function(e){e.style.position="fixed"},absolute:e===6?function(e){var t=e.style;t.position="absolute";t.removeExpression("left");t.removeExpression("top")}:function(e){e.style.position="absolute"},isMouseLeave:function(e,t){if(e.type!="mouseout"&&e.type!="mouseover")return false;var n=e.relatedTarget?e.relatedTarget:e.toElement;while(n&&n!=t){n=n.parentNode}return n!=t}}}();KISSYMORE.Util.Dom=function(){function e(e){var t=[];for(var n=0;n<e.length;n++){t.push(e[n])}return t}return{replaceHtml:function(e,t){var n=typeof e==="string"?document.getElementById(e):e;var r=n.cloneNode(false);r.innerHTML=t;n.parentNode.replaceChild(r,n);return r},getElementsByClassName:function(t,n){var r=this;n=n||"div";var o=document.getElementsByTagName(n)||document.all;var i=[];r.each(e(o),function(){r.hasClass(this,t)?i.push(this):void 0});return i},getClassNames:function(e){return e.className.replace(/\s+/," ").split(" ")},hasClass:function(e,t){var n=this,r=0;n.each(e.className.split(" "),function(){if(this==t){r=1}});return r},addClassName:function(e,t){e.className+=(e.className?" ":"")+t;return true},removeClassName:function(e,t){var n=this,r=n.getClassNames(e),o=r.length;for(var i=o-1;i>=0;i--){if(r[i]===t){delete r[i]}}e.className=r.join(" ");return o==r.length?false:true},each:function(e,t){for(var n=0;n<e.length;n++){t.call(e[n],e[n],n)}},autoResizeImage:function(e,t,n){var r=new Image;r=n;var o;var i;var a=1;var s=r.width;var l=r.height;i=e/s;o=t/l;if(e===0&&t===0){a=1}else if(e===0){if(o<1)a=o}else if(t===0){if(i<1)a=i}else if(i<1||o<1){a=i<=o?i:o}if(a<1){s=s*a;l=l*a}n.height=l;n.width=s},createScript:function(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("src",e);var r=document.getElementsByTagName("head");if(r.length){r[0].appendChild(n)}else{document.documentElement.appendChild(n)}n.onload=n.onreadystatechange=function(){setTimeout(function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){t()}});n.onload=n.onreadystatechange=null}}}}();KISSYMORE.Util.Type=function(){var e={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function t(){return this.prototype.toString()}function n(){return this.hasOwnProperty()}return{extend:function(){var e=this,t,n,r,o,i,a,s=arguments[0]||{},l=1,f=arguments.length,c=false;if(typeof s==="boolean"){c=s;s=arguments[1]||{};l=2}if(typeof s!=="object"&&!e.isFunction(s)){s={}}if(f===l){s=this;--l}for(;l<f;l++){if((t=arguments[l])!==null){for(n in t){r=s[n];o=t[n];if(s===o){continue}if(c&&o&&(e.isPlainObject(o)||(i=e.isArray(o)))){if(i){i=false;a=r&&e.isArray(r)?r:[]}else{a=r&&e.isPlainObject(r)?r:{}}s[n]=e.extend(c,a,o)}else if(o!==undefined){s[n]=o}}}}return s},isFunction:function(e){return this.type(e)==="function"},type:function(n){if(n===null){return String(n)}return typeof n==="object"||typeof n==="function"?e[t.call(n)]||"object":typeof n},isPlainObject:function(e){var t=this;if(!e||t.type(e)!=="object"||e.nodeType||t.isWindow(e)){return false}try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(r){return false}var o;for(o in e){}return o===undefined||n.call(e,o)},isWindow:function(e){return e!==null&&e==e.window},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"}}}();KISSYMORE.Util.String=function(){return{trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},isEmpty:function(e){return e&&/^\s*$/.test(e)}}}();KISSYMORE.Util.Date=function(){return{init:function(){},converte:function(e){var t=e.split(" ");var n=t[0].split("-");var r=t[1]?t[1].split(":"):[0,0,0];return new Date(n[0],n[1]-parseInt(1),n[2],r[0],r[1],r[2]?n[2]:0)},datafomatZero:function(e){return e<10?"0"+e:e},doTransferAbso:function(e,t){var n=this,r,o,i,a,s,l,f,c,u;e=n.converte(e),t=t||new Date,e.setMilliseconds(0),t.setMilliseconds(0),o=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),l=e.getMinutes(),f=t.getFullYear(),c=t.getMonth()+1,u=t.getDate();if(o!==f){r=o+"-"+n.datafomatZero(i)+"-"+n.datafomatZero(a)+" "+n.datafomatZero(s)+":"+n.datafomatZero(l)}else if(i!==c||a!==u){r=n.datafomatZero(i)+"-"+n.datafomatZero(a)+" "+n.datafomatZero(s)+":"+n.datafomatZero(l)}else{r=n.datafomatZero(s)+":"+n.datafomatZero(l)}return r},doTransfer:function(e,t){if(!e){return""}var n=this;e=n.converte(e);t=t||new Date;var r="";e.setMilliseconds(0);t.setMilliseconds(0);var o=1e3*60*60*24*365;var i=1e3*60*60*24*365*2;var a=1e3*60*60*24;var s=1e3*60*60;var l=1e3*60;var f=t-e;if(f-i>=0){r+=e.getFullYear()+"年";r+=e.getMonth()+1+"月"+e.getDate()+"日"}else{if(f-o>=0){r+="1年前"}else{var c=-1;var u=0;for(var d=e.getTime();d<=t.getTime();d=d+a){var p=new Date(d);c++;if(p.getDate()==1){u++}}if(c>=31){r+=u+"个月前"}else{if(c>=1){r+=c+"天前"}else{var m=parseInt(f/s);if(m>=1){if(t.getDate()-e.getDate()==1&&m>12){r+="1天前"}else{r+=m+"小时前"}}else{var g=parseInt(f/l);if(g>=1){r+=g+"分钟前"}else{r+="刚刚"}}}}}}return r},formatting:function(e,t){var n=this,r,o,i,a,s,l,f;if(e){e=n.converte(e),r=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),a=e.getHours(),s=e.getMinutes(),l=e.getSeconds();if(!t){f=r+"年"+n.datafomatZero(o)+"月"+n.datafomatZero(i)+"日"}else{t=t.replace("yyyy",r);t=t.replace("mm",n.datafomatZero(o));t=t.replace("dd",n.datafomatZero(i));t=t.replace("hh",n.datafomatZero(a));t=t.replace("MM",n.datafomatZero(s));t=t.replace("ss",n.datafomatZero(l));f=t}}return f}}}();KISSYMORE.Util.JSON=function(){return{stringify:function(e){var t="",n=this;if(e==undefined){return t}if(typeof JSON==="object"){t=JSON.stringify(e);return t}else{var r=[];if(typeof e=="string")return'"'+e.replace(/([\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if(typeof e=="object"){if(!e.sort){for(var o in e)r.push('"'+o+'":'+arguments.callee(e[o]));if(!!document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(e.toString)){r.push("toString:"+e.toString.toString())}r="{"+r.join()+"}"}else{for(var o=0;o<e.length;o++)r.push(arguments.callee(e[o]));r="["+r.join()+"]"}return r}return e.toString().replace(/\"\:/g,'":""')}},parseJSON:function(str){if(typeof JSON==="object"&&JSON.parse){return JSON.parse(str)}return eval("("+str+")")}}}()})(window);